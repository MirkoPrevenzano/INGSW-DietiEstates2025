<div class="px-3">
  <div class="max-w-[1120px] md:mx-auto p-4 mx-2 bg-white border-4 border-secondary rounded-xl shadow-md mb-6">
    <div class="overflow-auto max-h-96" #scrollContainer>
      <table class="min-w-full bg-white">
        <thead class="bg-gray-100">
          <tr>
            <th class="py-2 px-4 border-b text-center">Title</th>
            <th class="py-2 px-4 border-b text-center">Upload Date</th>
            <th class="py-2 px-4 border-b text-center">Offer Number</th>
            <th class="py-2 px-4 border-b text-center">View Number</th>
            <th class="py-2 px-4 border-b text-center">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of estatesStats">
            <td class="py-2 px-4 border-b border-r text-center">{{ item.title }}</td>
            <td class="py-2 px-4 border-b border-r text-center">{{ item.uploadingDate | date: 'dd/MM/yyyy' }}</td>
            <td class="py-2 px-4 border-b border-r text-center">{{ item.offersNumber }}</td>
            <td class="py-2 px-4 border-b border-r text-center">{{ item.viewsNumber }}</td>
            <td class="py-2 px-4 border-b text-center">
              <a [routerLink]="['/estate', item.id]" class="text-blue-500 hover:text-blue-700">
                ğŸ”
              </a>
            </td>
          </tr>
        </tbody>
      </table>
      
      <!-- Indicatore di caricamento -->
      <div *ngIf="loading" class="text-center py-4">
        <div class="inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"></div>
        <p class="text-gray-600 mt-2 text-sm">Caricamento...</p>
      </div>
      
      <!-- Messaggio fine dati -->
      <div *ngIf="!hasMoreData && estatesStats.length > 0 && !loading" class="text-center py-4">
        <p class="text-gray-500 text-sm">Non ci sono altre statistiche da caricare</p>
      </div>
      
      <!-- Messaggio nessun dato -->
      <div *ngIf="!loading && estatesStats.length === 0" class="text-center py-8">
        <p class="text-gray-500">Nessuna statistica disponibile</p>
      </div>
    </div>
  </div>
</div>