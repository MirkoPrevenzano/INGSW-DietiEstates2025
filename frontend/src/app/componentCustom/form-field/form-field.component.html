<!DOCTYPE html>
<div class="mb-4" [formGroup]="form">
  <label [for]="controlName" class="block text-sm text-text font-medium mb-2 ">
    <mat-icon *ngIf="icon" class="text-primary text-xl">{{ icon }}</mat-icon>
    {{ label }}
  </label>
  <ng-container [ngSwitch]="type">
    <textarea 
      *ngSwitchCase="'textarea'" 
      [id]="controlName" 
      formControlName="{{ controlName }}" 
      (input)="updateValue($event)" 
      [rows]="rows" 
      placeholder="Enter {{label.toLowerCase()}}"
      [minlength]="minlength" 
      [maxlength]="maxlength" 
      [ngClass]="{'invalid-border': form.get(controlName)?.invalid && form.get(controlName)?.touched}" 
      class="w-full p-2 border border-gray-300 rounded-md">
    </textarea>

    <input 
      *ngSwitchCase="'text'" 
      [id]="controlName" 
      placeholder="Enter {{label.toLowerCase()}}"
      formControlName="{{ controlName }}" 
      (input)="updateValue($event)" 
      [minlength]="minlength" 
      [maxlength]="maxlength" 
      [ngClass]="{'invalid-border': form.get(controlName)?.invalid && form.get(controlName)?.touched}"
      class="w-full p-2 border border-gray-300 rounded-md">

    <input 
      *ngSwitchCase="'number'" 
      placeholder="Enter {{label.toLowerCase()}}"
      [min]="minNumber"
      [max]="maxNumber" 
      [type]="type" 
      [id]="controlName" 
      formControlName="{{ controlName }}" 
      (input)="updateValue($event)" 
      class="w-full p-2 border border-gray-300 rounded-md"
    >

    


    <select 
      *ngSwitchCase="'select'" 
      
      [id]="controlName" 
      formControlName="{{ controlName }}" 
      (input)="updateValue($event)" 
      class="w-full px-2 sm:pb-2 py-2.5  sm:pt-2 sm:mb-2 border border-gray-400 text-text rounded-md"
    >
      <option 
        *ngFor="let option of options" 
        [value]="option">{{ option }}
      </option>
    </select>


    <input 
      *ngSwitchDefault 
      placeholder="Enter {{label.toLowerCase()}}"
      [type]="type" 
      [id]="controlName" 
      formControlName="{{ controlName }}" 
      (input)="updateValue($event)"
       class="w-full p-2 border border-gray-300 rounded-md"
    >
  </ng-container>
</div>